{
  "timestamp": "2025-06-27T15:07:19.594Z",
  "duration": 2723,
  "summary": {
    "totalTests": 8,
    "totalPassed": 0,
    "totalFailed": 8,
    "totalSkipped": 0,
    "totalDuration": 2724,
    "suiteCount": 8
  },
  "results": [
    {
      "suite": "utils",
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "duration": 892,
      "errors": [
        "\ntests/utils.test.ts:\n(pass) Environment Helper > should get string values with defaults [26.09ms]\n(pass) Environment Helper > should get number values with defaults [0.40ms]\n(pass) Environment Helper > should get boolean values with defaults [0.26ms]\n52 |   });\n53 | \n54 |   test('should get array values', () => {\n55 |     process.env.TEST_ARRAY = 'item1,item2,item3';\n56 |     expect(EnvHelper.getArray('TEST_ARRAY')).toEqual(['item1', 'item2', 'item3']);\n57 |     expect(EnvHelper.getArray('NON_EXISTENT', ['default'])).toEqual(['default']);\n                                                                 ^\nerror: expect(received).toEqual(expected)\n\n+ []\n- [\n-   \"default\"\n- ]\n\n- Expected  - 3\n+ Received  + 1\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:57:61)\n(fail) Environment Helper > should get array values [1.79ms]\n(pass) Environment Helper > should check if environment is development/production [0.46ms]\n(pass) Configuration Manager > should be a singleton [0.10ms]\n(pass) Configuration Manager > should load configuration from object [0.25ms]\n(pass) Configuration Manager > should merge configurations [0.51ms]\n104 |     expect(config.get('e')).toBe(4);\n105 |   });\n106 | \n107 |   test('should check environment types', () => {\n108 |     process.env.NODE_ENV = 'test';\n109 |     expect(config.isTest()).toBe(true);\n                                  ^\nerror: expect(received).toBe(expected)\n\nExpected: true\nReceived: false\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:109:29)\n(fail) Configuration Manager > should check environment types [0.69ms]\n(pass) UUID Generator > should generate valid UUID v4 [0.49ms]\n(pass) UUID Generator > should generate short UUIDs [0.31ms]\n(pass) UUID Generator > should generate numeric UUIDs [0.19ms]\n(pass) UUID Generator > should generate timestamp-based UUIDs [0.27ms]\n(pass) UUID Generator > should generate URL-safe UUIDs [0.35ms]\n(pass) Password Hasher > should hash passwords securely [60.89ms]\n(pass) Password Hasher > should verify correct passwords [121.92ms]\n(pass) Password Hasher > should reject incorrect passwords [117.60ms]\n173 |     expect(isValid).toBe(false);\n174 |   });\n175 | \n176 |   test('should check password strength', () => {\n177 |     expect(hasher.checkStrength('weak')).toBe('weak');\n178 |     expect(hasher.checkStrength('Medium123')).toBe('medium');\n                                                    ^\nerror: expect(received).toBe(expected)\n\nExpected: \"medium\"\nReceived: \"strong\"\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:178:47)\n(fail) Password Hasher > should check password strength [3.81ms]\n(pass) Password Hasher > should generate secure passwords [1.42ms]\n(pass) In-Memory Cache > should store and retrieve values [0.85ms]\n(pass) In-Memory Cache > should respect TTL [150.98ms]\n211 | \n212 |     smallCache.set('key1', 'value1');\n213 |     smallCache.set('key2', 'value2');\n214 |     smallCache.set('key3', 'value3'); // Should evict key1\n215 | \n216 |     expect(smallCache.get('key1')).toBeUndefined();\n                                         ^\nerror: expect(received).toBeUndefined()\n\nReceived: \"value1\"\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:216:36)\n(fail) In-Memory Cache > should respect max size with LRU eviction [2.29ms]\n222 |     cache.set('key1', 'value1');\n223 |     cache.get('key1'); // hit\n224 |     cache.get('key2'); // miss\n225 | \n226 |     const stats = cache.getStats();\n227 |     expect(stats.hits).toBe(1);\n                             ^\nerror: expect(received).toBe(expected)\n\nExpected: 1\nReceived: 0\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:227:24)\n(fail) In-Memory Cache > should handle cache statistics [1.60ms]\n(pass) In-Memory Cache > should clear cache [0.70ms]\n243 |   test('should parse cookie strings', () => {\n244 |     const cookieString = 'name=value; httpOnly; secure; path=/; maxAge=3600';\n245 |     const parsed = CookieHelper.parse(cookieString);\n246 | \n247 |     expect(parsed.name).toBe('value');\n248 |     expect(parsed.httpOnly).toBe(true);\n                                  ^\nerror: expect(received).toBe(expected)\n\nExpected: true\nReceived: undefined\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:248:29)\n(fail) Cookie Helper > should parse cookie strings [1.64ms]\n(pass) Cookie Helper > should serialize cookies [0.74ms]\n(pass) Cookie Helper > should handle cookie expiration [0.26ms]\n281 | \n282 |   test('should parse query strings', () => {\n283 |     const result = parser.parse('name=John&age=30&hobbies=reading&hobbies=gaming');\n284 | \n285 |     expect(result.name).toBe('John');\n286 |     expect(result.age).toBe('30');\n                             ^\nerror: expect(received).toBe(expected)\n\nExpected: \"30\"\nReceived: 30\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:286:24)\n(fail) Query String Parser > should parse query strings [2.32ms]\n(pass) Query String Parser > should handle URL decoding [0.30ms]\n(pass) Query String Parser > should stringify objects [1.62ms]\n317 |         }\n318 |       }\n319 |     };\n320 | \n321 |     const result = parser.parse(parser.stringify(obj));\n322 |     expect(result['user[name]']).toBe('John');\n                                       ^\nerror: expect(received).toBe(expected)\n\nExpected: \"John\"\nReceived: undefined\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:322:34)\n(fail) Query String Parser > should handle nested objects [1.68ms]\n329 |     const data = { id: 1, name: 'Test' };\n330 |     const response = ResponseBuilder.success(data);\n331 | \n332 |     expect(response.success).toBe(true);\n333 |     expect(response.data).toEqual(data);\n334 |     expect(response.timestamp).toBeDefined();\n                                     ^\nerror: expect(received).toBeDefined()\n\nReceived: undefined\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:334:32)\n(fail) Response Builder > should build success responses [1.00ms]\n336 | \n337 |   test('should build error responses', () => {\n338 |     const response = ResponseBuilder.error('Something went wrong', 500);\n339 | \n340 |     expect(response.success).toBe(false);\n341 |     expect(response.error.message).toBe('Something went wrong');\n                                         ^\nerror: expect(received).toBe(expected)\n\nExpected: \"Something went wrong\"\nReceived: 500\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:341:36)\n(fail) Response Builder > should build error responses [0.91ms]\n348 |     const pagination = { page: 1, limit: 10, total: 2, totalPages: 1 };\n349 |     const response = ResponseBuilder.paginated(data, pagination);\n350 | \n351 |     expect(response.success).toBe(true);\n352 |     expect(response.data).toEqual(data);\n353 |     expect(response.pagination).toEqual(pagination);\n                                      ^\nerror: expect(received).toEqual(expected)\n\n  {\n+   hasNext: false,\n+   hasPrev: false,\n    limit: 10,\n    page: 1,\n    total: 2,\n    totalPages: 1,\n  }\n\n- Expected  - 0\n+ Received  + 2\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:353:33)\n(fail) Response Builder > should build paginated responses [1.18ms]\n359 |       { field: 'password', message: 'Password too weak' }\n360 |     ];\n361 |     const response = ResponseBuilder.validationError(errors);\n362 | \n363 |     expect(response.success).toBe(false);\n364 |     expect(response.error.code).toBe(400);\n                                      ^\nerror: expect(received).toBe(expected)\n\nExpected: 400\nReceived: \"VALIDATION_ERROR\"\n\n      at <anonymous> (/root/efw/tests/utils.test.ts:364:33)\n(fail) Response Builder > should build validation error responses [0.91ms]\n367 | });\n368 | \n369 | describe('Asset Versioning', () => {\n370 |   test('should version CSS files', () => {\n371 |     const versioner = new AssetVersioning();\n372 |     const versionedPath = versioner.version('/css/style.css');\n                                          ^\nTypeError: versioner.version is not a function. (In 'versioner.version(\"/css/style.css\")', 'versioner.version' is undefined)\n      at <anonymous> (/root/efw/tests/utils.test.ts:372:37)\n(fail) Asset Versioning > should version CSS files [1.22ms]\n374 |     expect(versionedPath).toMatch(/\\/css\\/style\\.css\\?v=[a-f0-9]+/);\n375 |   });\n376 | \n377 |   test('should version JavaScript files', () => {\n378 |     const versioner = new AssetVersioning();\n379 |     const versionedPath = versioner.version('/js/app.js');\n                                          ^\nTypeError: versioner.version is not a function. (In 'versioner.version(\"/js/app.js\")', 'versioner.version' is undefined)\n      at <anonymous> (/root/efw/tests/utils.test.ts:379:37)\n(fail) Asset Versioning > should version JavaScript files [0.68ms]\n383 | \n384 |   test('should generate integrity hashes', () => {\n385 |     const versioner = new AssetVersioning();\n386 |     const integrity = versioner.generateIntegrity('test content');\n387 | \n388 |     expect(integrity).toMatch(/^sha384-[A-Za-z0-9+/]+=*$/);\n                            ^\nerror: Received value must be a string: null\n      at <anonymous> (/root/efw/tests/utils.test.ts:388:23)\n(fail) Asset Versioning > should generate integrity hashes [1.39ms]\n(pass) API Client > should create client instance [0.15ms]\n(pass) API Client > should handle request configuration [0.15ms]\n(pass) Error Pages > should generate 404 error page [0.67ms]\n(pass) Error Pages > should generate 500 error page [0.24ms]\n(pass) Error Pages > should generate custom error page [0.25ms]\n(pass) Memoization > should memoize function results [1.14ms]\n(pass) Memoization > should respect TTL in memoization [150.85ms]\n\n15 tests failed:\n(fail) Environment Helper > should get array values [1.79ms]\n(fail) Configuration Manager > should check environment types [0.69ms]\n(fail) Password Hasher > should check password strength [3.81ms]\n(fail) In-Memory Cache > should respect max size with LRU eviction [2.29ms]\n(fail) In-Memory Cache > should handle cache statistics [1.60ms]\n(fail) Cookie Helper > should parse cookie strings [1.64ms]\n(fail) Query String Parser > should parse query strings [2.32ms]\n(fail) Query String Parser > should handle nested objects [1.68ms]\n(fail) Response Builder > should build success responses [1.00ms]\n(fail) Response Builder > should build error responses [0.91ms]\n(fail) Response Builder > should build paginated responses [1.18ms]\n(fail) Response Builder > should build validation error responses [0.91ms]\n(fail) Asset Versioning > should version CSS files [1.22ms]\n(fail) Asset Versioning > should version JavaScript files [0.68ms]\n(fail) Asset Versioning > should generate integrity hashes [1.39ms]\n--------------------------|---------|---------|-------------------\nFile                      | % Funcs | % Lines | Uncovered Line #s\n--------------------------|---------|---------|-------------------\nAll files                 |   31.11 |   41.13 |\n src/framework.ts         |    0.00 |    7.26 | 27-44,48,52,56,60,64,68,72,76,80-83,87-101,105-277,281-289,293-295\n src/middleware.ts        |    0.00 |    6.29 | 7-75,80-108,113-117,122-136,141-162,167-172,177-194\n src/router.ts            |    0.00 |   14.29 | 6-17,21-29,33,37,41,45,49,53,57,61-115\n src/utils/admin.ts       |    0.00 |    4.76 | 14-17,21,25,29,33-289,332,388-392,396-404,408-487\n src/utils/assets.ts      |    9.09 |   22.78 | 37-40,44-69,73-76,80-82,86-117,121-126,130-136,140,144-146,151-152,156-158,162-166,170-174,191-194,198-202,207-208,212-213,218-221,226,230-249\n src/utils/cache.ts       |   63.16 |   51.18 | 79-91,124,128-139,143-154,158-169,173-204,238-258\n src/utils/client.ts      |    4.00 |    9.46 | 63-65,69-71,75-101,105-329,334,338,342,346,350-353,362\n src/utils/config.ts      |   66.67 |   90.77 | 68,72,76-77,81\n src/utils/cookies.ts     |   13.64 |   41.18 | 23,47,51,61,76-96,100-105,109,113-119,123-128,132-136,140,144-148,152-155,159-165,170,174,178-180,184-186,190-191,195,199\n src/utils/dashboard.ts   |    0.00 |    4.26 | 4-8,12-20,24-163,181-182,186-209\n src/utils/devtools.ts    |    0.00 |    3.56 | 38-41,45,49-63,67-83,87-106,110,114-190,198-327,337-470,491,696,701-705\n src/utils/env.ts         |   84.62 |   96.97 | 79-80\n src/utils/errorpages.ts  |   38.46 |   41.53 | 251-257,261-267,271-277,281-287,291-297,306-341,350-385\n src/utils/index.ts       |  100.00 |  100.00 | \n src/utils/monitor.ts     |    0.00 |   13.27 | 35-38,42-74,78,82-89,93,97-99,103,107-112,116-134,139-147\n src/utils/password.ts    |   84.21 |   73.48 | 52-57,61-81,102-109\n src/utils/querystring.ts |   55.00 |   81.78 | 248-256,260-266,270-275,279-285,289-295,308,312\n src/utils/response.ts    |   16.00 |   43.04 | 103,107,111,115-120,124-129,133-138,151-156,160-165,169-174,178-187,191-218,223,227,231,235,239-248,253-259,264-279,284,289-304\n src/utils/uuid.ts        |   71.43 |   95.24 | 51-52\n tests/test-helpers.ts    |   16.00 |   21.56 | 22-38,42,46-76,81,90-94,97-101,104,108,112,117-123,127-155,159,163,167-168,172-173,177-178,196-204,209-223\n--------------------------|---------|---------|-------------------\n\n 30 pass\n 15 fail\n 88 expect() calls\nRan 45 tests across 1 files. [851.00ms]\n"
      ]
    },
    {
      "suite": "auth",
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "duration": 278,
      "errors": [
        "\ntests/auth.test.ts:\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:114:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:51:14)\n(fail) JWT Authentication > should login with valid credentials [6204401.22ms]\n(fail) JWT Authentication > should login with valid credentials\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:114:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:51:14)\n(fail) JWT Authentication > should reject invalid credentials [6204421.37ms]\n(fail) JWT Authentication > should reject invalid credentials\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:114:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:51:14)\n(fail) JWT Authentication > should access protected route with valid token [6204442.17ms]\n(fail) JWT Authentication > should access protected route with valid token\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:114:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:51:14)\n(fail) JWT Authentication > should reject access without token [6204451.32ms]\n(fail) JWT Authentication > should reject access without token\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:114:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:51:14)\n(fail) JWT Authentication > should reject access with invalid token [6204464.82ms]\n(fail) JWT Authentication > should reject access with invalid token\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:114:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:51:14)\n(fail) JWT Authentication > should handle token expiration [6204474.22ms]\n(fail) `\u0001`�w\u0000\u0000\u0000andle token expiration\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:296:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:217:14)\n(fail) Session Authentication > should create session on login [6204483.38ms]\n(fail) Session Authentication > should create session on login\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:296:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:217:14)\n(fail) Session Authentication > should access protected route with valid session [6204503.94ms]\n(fail) Session Authentication > should access protected route with valid session\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:296:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:217:14)\n(fail) Session Authentication > should reject access without session [6204520.99ms]\n(fail) Session Authentication > should reject access without session\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:296:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:217:14)\n(fail) Session Authentication > should handle session logout [6204528.36ms]\n(fail) Session Authentication > should handle session logout\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/auth.test.ts:296:22)\n      at <anonymous> (/root/efw/tests/auth.test.ts:217:14)\n(fail) Session Authentication > should handle session expiration [6204536.64ms]\n(fail) \u0000\u0002`�w\u0000\u0000\u0000andle session expiration\n(pass) Authentication Middleware > should handle missing authorization header [0.91ms]\n(pass) Authentication Middleware > should handle malformed authorization header [0.33ms]\n(pass) Authentication Middleware > should pass through valid authorization [0.25ms]\n-----------------------|---------|---------|-------------------\nFile                   | % Funcs | % Lines | Uncovered Line #s\n-----------------------|---------|---------|-------------------\nAll files              |   36.88 |   41.96 |\n src/framework.ts      |   31.25 |   17.70 | 56,60,64,68,72,80-83,87-101,105-277,293-295\n src/middleware.ts     |   25.00 |   13.87 | 20-75,80-108,114-117,123-136,141-162,167-172,177-194\n src/router.ts         |   35.71 |   36.46 | 41,45,49,53,57,61-115\n tests/test-helpers.ts |   42.42 |   46.20 | 42,46-76,85,90-94,97-101,104,108,112,132-133,145-146,149-151,159,163,167-168,172-173,177-178,196-204,209-223\n tests/test.config.ts  |   50.00 |   95.56 | 54\n-----------------------|---------|---------|-------------------\n\n 3 pass\n 22 fail\n 6 expect() calls\nRan 25 tests across 1 files. [251.00ms]\n"
      ]
    },
    {
      "suite": "security",
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "duration": 292,
      "errors": [
        "\ntests/security.test.ts:\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:81:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:17:14)\n(fail) CORS Middleware > should handle preflight OPTIONS request [6204659.91ms]\n(fail) CORS Middleware > should handle preflight OPTIONS request\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:81:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:17:14)\n(fail) CORS Middleware > should allow requests from allowed origins [6204675.99ms]\n(fail) CORS Middleware > should allow requests from allowed origins\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:81:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:17:14)\n(fail) CORS Middleware > should reject requests from disallowed origins [6204692.28ms]\n(fail) �\u0004\u0004�p\u0000\u0000\u0000eject requests from disallowed origins\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:214:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:135:14)\n(fail) Security Headers Middleware (Helmet) > should set Content Security Policy header [6204700.75ms]\n(fail) Security Headers Middleware (Helmet) > should set Content Security Policy header\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:214:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:135:14)\n(fail) Security Headers Middleware (Helmet) > should set HSTS header [6204721.21ms]\n(fail) Security Headers Middleware (Helmet) > should set HSTS header\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:214:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:135:14)\n(fail) Security Headers Middleware (Helmet) > should set X-Content-Type-Options header [6204729.76ms]\n(fail) Security Headers Middleware (Helmet) > should set X-Content-Type-Options header\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:214:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:135:14)\n(fail) Security Headers Middleware (Helmet) > should set X-Frame-Options header [6204738.82ms]\n(fail) Security Headers Middleware (Helmet) > should set X-Frame-Options header\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:214:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:135:14)\n(fail) Security Headers Middleware (Helmet) > should set XSS Protection header [6204753.93ms]\n(fail) `\u0001`�p\u0000\u0000\u0000et XSS Protection header\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:341:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:274:14)\n(fail) Rate Limiting Middleware > should allow requests within rate limit [6204766.06ms]\n(fail) Rate Limiting Middleware > should allow requests within rate limit\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:341:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:274:14)\n(fail) Rate Limiting Middleware > should block requests exceeding rate limit [6204774.82ms]\n(fail) Rate Limiting Middleware > should block requests exceeding rate limit\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:341:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:274:14)\n(fail) Rate Limiting Middleware > should reset rate limit after window expires [6204786.03ms]\n(fail) Rate Limiting Middleware > should reset rate limit after window expires\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:341:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:274:14)\n(fail) Rate Limiting Middleware > should include proper rate limit headers [6204794.59ms]\n(fail)  \u0006\u0004�p\u0000\u0000\u0000nclude proper rate limit headers\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:477:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:421:14)\n(fail) Input Sanitization Middleware > should sanitize HTML in request body [6204805.47ms]\n(fail) Input Sanitization Middleware > should sanitize HTML in request body\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:477:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:421:14)\n(fail) Input Sanitization Middleware > should sanitize nested objects [6204814.07ms]\n(fail) Input Sanitization Middleware > should sanitize nested objects\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/security.test.ts:477:22)\n      at <anonymous> (/root/efw/tests/security.test.ts:421:14)\n(fail) Input Sanitization Middleware > should sanitize arrays [6204833.34ms]\n(fail) �\u0001`�p\u0000\u0000\u0000anitize arrays\n-----------------------|---------|---------|-------------------\nFile                   | % Funcs | % Lines | Uncovered Line #s\n-----------------------|---------|---------|-------------------\nAll files              |   31.92 |   24.52 |\n src/framework.ts      |   31.25 |   17.70 | 56,60,64,68,72,80-83,87-101,105-277,293-295\n src/middleware.ts     |   25.00 |   13.87 | 20-75,80-108,114-117,123-136,141-162,167-172,177-194\n src/router.ts         |   35.71 |   36.46 | 41,45,49,53,57,61-115\n tests/test-helpers.ts |   35.71 |   30.06 | 42,46-76,85,90-94,97-101,104,108,112,117-123,127-155,159,163,167-168,172-173,177-178,196-204,209-223\n-----------------------|---------|---------|-------------------\n\n 0 pass\n 30 fail\nRan 30 tests across 1 files. [269.00ms]\n"
      ]
    },
    {
      "suite": "templates",
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "duration": 292,
      "errors": [
        "\ntests/templates.test.ts:\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:162:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:25:16)\n(fail) Template Engine Integration > Handlebars Template Engine > should render simple variable substitution [6204960.71ms]\n(fail) Template Engine Integration > Handlebars Template Engine > should render simple variable substitution\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:162:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:25:16)\n(fail) Template Engine Integration > Handlebars Template Engine > should handle conditional rendering [6204977.25ms]\n(fail) Template Engine Integration > Handlebars Template Engine > should handle conditional rendering\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:162:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:25:16)\n(fail) Template Engine Integration > Handlebars Template Engine > should handle loops and iterations [6204995.72ms]\n(fail) Template Engine Integration > Handlebars Template Engine > should handle loops and iterations\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:162:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:25:16)\n(fail) Template Engine Integration > Handlebars Template Engine > should handle layout templates [6205001.86ms]\n(fail) Template Engine Integration > `\u0001`Z|\u0000\u0000\u0000andle layout templates\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:345:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:214:16)\n(fail) Template Engine Integration > EJS Template Engine > should render EJS variable substitution [6205029.52ms]\n(fail) Template Engine Integration > EJS Template Engine > should render EJS variable substitution\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:345:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:214:16)\n(fail) Template Engine Integration > EJS Template Engine > should handle EJS conditional rendering [6205041.25ms]\n(fail) Template Engine Integration > EJS Template Engine > should handle EJS conditional rendering\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:345:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:214:16)\n(fail) Template Engine Integration > EJS Template Engine > should handle EJS loops [6205051.80ms]\n(fail) Template Engine Integration > EJS Template Engine > should handle EJS loops\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:345:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:214:16)\n(fail) Template Engine Integration > EJS Template Engine > should handle escaped vs raw output [6205064.53ms]\n(fail) Template Engine Integration >  \u0005\u0004Z|\u0000\u0000\u0000andle escaped vs raw output\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:442:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:397:16)\n(fail) Template Engine Integration > Template Error Handling > should handle template compilation errors [6205076.50ms]\n(fail) Template Engine Integration > Template Error Handling > should handle template compilation errors\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:442:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:397:16)\n(fail) Template Engine Integration > Template Error Handling > should handle missing data errors [6205085.20ms]\n(fail) Template Engine Integration > Template Error Handling > should handle missing data errors\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:442:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:397:16)\n(fail) Template Engine Integration > Template Error Handling > should render successfully with valid template and data [6205103.30ms]\n(fail) Template Engine Integration > \u0000\"\u0001Z|\u0000\u0000\u0000ender successfully with valid template and data\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/templates.test.ts:523:24)\n      at <anonymous> (/root/efw/tests/templates.test.ts:479:16)\n(fail) Template Engine Integration > Template Performance > should cache compiled templates for better performance [6205118.58ms]\n(fail) Template Engine Integration > \u0000#\u0001Z|\u0000\u0000\u0000ache compiled templates for better performance\n-----------------------|---------|---------|-------------------\nFile                   | % Funcs | % Lines | Uncovered Line #s\n-----------------------|---------|---------|-------------------\nAll files              |   28.57 |   24.16 |\n src/framework.ts      |   25.00 |   17.28 | 52,56,60,64,68,72,80-83,87-101,105-277,293-295\n src/middleware.ts     |   25.00 |   13.87 | 20-75,80-108,114-117,123-136,141-162,167-172,177-194\n src/router.ts         |   28.57 |   35.42 | 37,41,45,49,53,57,61-115\n tests/test-helpers.ts |   35.71 |   30.06 | 42,46-76,85,90-94,97-101,104,108,112,117-123,127-155,159,163,167-168,172-173,177-178,196-204,209-223\n-----------------------|---------|---------|-------------------\n\n 0 pass\n 24 fail\nRan 24 tests across 1 files. [263.00ms]\n"
      ]
    },
    {
      "suite": "monitoring",
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "duration": 294,
      "errors": [
        "\ntests/monitoring.test.ts:\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:129:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:15:14)\n(fail) Request Monitoring > should track total request count [6205258.80ms]\n(fail) Request Monitoring > should track total request count\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:129:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:15:14)\n(fail) Request Monitoring > should track requests by HTTP method [6205281.18ms]\n(fail) Request Monitoring > should track requests by HTTP method\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:129:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:15:14)\n(fail) Request Monitoring > should track requests by path [6205295.81ms]\n(fail) Request Monitoring > should track requests by path\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:129:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:15:14)\n(fail) Request Monitoring > should track response times [6205312.79ms]\n(fail) Request Monitoring > should track response times\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:129:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:15:14)\n(fail) Request Monitoring > should track status codes [6205324.75ms]\n(fail) Request Monitoring > should track status codes\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:129:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:15:14)\n(fail) Request Monitoring > should track error count [6205334.23ms]\n(fail) Request Monitoring > should track error count\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:129:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:15:14)\n(fail) Request Monitoring > should store detailed request information [6205343.10ms]\n(fail) P\u0004\u0004pp\u0000\u0000\u0000tore detailed request information\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:313:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:234:14)\n(fail) System Monitoring > should track system uptime [6205355.59ms]\n(fail) System Monitoring > should track system uptime\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:313:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:234:14)\n(fail) System Monitoring > should track memory usage [6205371.35ms]\n(fail) System Monitoring > should track memory usage\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:313:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:234:14)\n(fail) System Monitoring > should track CPU usage [6205378.41ms]\n(fail) System Monitoring > should track CPU usage\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:313:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:234:14)\n(fail) System Monitoring > should provide health check endpoint [6205389.82ms]\n(fail) �\u0004\u0004pp\u0000\u0000\u0000rovide health check endpoint\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:501:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:361:14)\n(fail) Dashboard Generation > should generate HTML dashboard [6205397.48ms]\n(fail) Dashboard Generation > should generate HTML dashboard\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:501:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:361:14)\n(fail) Dashboard Generation > should provide dashboard data API [6205409.49ms]\n(fail) Dashboard Generation > should provide dashboard data API\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:501:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:361:14)\n(fail) Dashboard Generation > should include auto-refresh functionality [6205418.03ms]\n(fail) Dashboard Generation > should include auto-refresh functionality\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:501:22)\n      at <anonymous> (/root/efw/tests/monitoring.test.ts:361:14)\n(fail) Dashboard Generation > should style status codes appropriately [6205426.26ms]\n(fail) \u0010\u0005\u0004pp\u0000\u0000\u0000tyle status codes appropriately\n-----------------------|---------|---------|-------------------\nFile                   | % Funcs | % Lines | Uncovered Line #s\n-----------------------|---------|---------|-------------------\nAll files              |   28.57 |   24.16 |\n src/framework.ts      |   25.00 |   17.28 | 52,56,60,64,68,72,80-83,87-101,105-277,293-295\n src/middleware.ts     |   25.00 |   13.87 | 20-75,80-108,114-117,123-136,141-162,167-172,177-194\n src/router.ts         |   28.57 |   35.42 | 37,41,45,49,53,57,61-115\n tests/test-helpers.ts |   35.71 |   30.06 | 42,46-76,85,90-94,97-101,104,108,112,117-123,127-155,159,163,167-168,172-173,177-178,196-204,209-223\n-----------------------|---------|---------|-------------------\n\n 0 pass\n 30 fail\nRan 30 tests across 1 files. [278.00ms]\n"
      ]
    },
    {
      "suite": "framework",
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "duration": 102,
      "errors": [
        "\ntests/framework.test.ts:\n(pass) Framework Core > should create framework instance [0.63ms]\n(pass) Framework Core > should register routes [1.06ms]\n(pass) Router > should match simple routes [0.88ms]\n(pass) Router > should extract route parameters [0.33ms]\n(pass) Router > should handle multiple parameters [0.24ms]\n(pass) Router > should return null for non-matching routes [0.16ms]\n(pass) Validation > should validate required fields [1.15ms]\n(pass) Validation > should validate email format [0.41ms]\n(pass) Validation > should validate string length [0.29ms]\n(pass) Validation > should validate number ranges [0.28ms]\n(pass) Error Handling > should create framework error with status code [0.13ms]\n(pass) Error Handling > should create validation error [0.09ms]\n(pass) Common Schemas > should validate email schema [0.26ms]\n(pass) Common Schemas > should validate strong password schema [0.37ms]\n--------------------------|---------|---------|-------------------\nFile                      | % Funcs | % Lines | Uncovered Line #s\n--------------------------|---------|---------|-------------------\nAll files                 |   29.95 |   37.28 |\n src/framework.ts         |   13.33 |   13.52 | 52,56,60,64,68,72,76,80-83,87-101,105-277,281-289,293-295\n src/middleware.ts        |   25.00 |   13.87 | 20-75,80-108,114-117,123-136,141-162,167-172,177-194\n src/router.ts            |   40.00 |   49.46 | 37,41,45,49,53,57,76-115\n src/utils/errors.ts      |   14.29 |   40.16 | 28-29,35-36,42-43,49-50,58-60,68-70,79-82,102-144,148-151,158,162-166,170-174\n src/validation/schema.ts |   57.14 |   69.40 | 115-168,239\n--------------------------|---------|---------|-------------------\n\n 14 pass\n 0 fail\n 37 expect() calls\nRan 14 tests across 1 files. [72.00ms]\n"
      ]
    },
    {
      "suite": "integration",
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "duration": 315,
      "errors": [
        "\ntests/integration.test.ts:\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > End-to-End User Journey > should handle complete user registration and authentication flow [6205664.36ms]\n(fail) Full Framework Integration > End-to-End User Journey > should handle complete user registration and authentication flow\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > End-to-End User Journey > should handle admin operations [6205686.55ms]\n(fail) Full Framework Integration > �\u0001`,w\u0000\u0000\u0000andle admin operations\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Security Integration > should enforce authentication on protected routes [6205697.36ms]\n(fail) Full Framework Integration > Security Integration > should enforce authentication on protected routes\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Security Integration > should enforce authorization on admin routes [6205707.62ms]\n(fail) Full Framework Integration > Security Integration > should enforce authorization on admin routes\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Security Integration > should include security headers [6205720.33ms]\n(fail) Full Framework Integration > Security Integration > should include security headers\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Security Integration > should handle CORS preflight requests [6205740.54ms]\n(fail) Full Framework Integration > `\u0004\u0004,w\u0000\u0000\u0000andle CORS preflight requests\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Input Validation Integration > should validate required fields [6205749.33ms]\n(fail) Full Framework Integration > Input Validation Integration > should validate required fields\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Input Validation Integration > should validate email format [6205759.80ms]\n(fail) Full Framework Integration > Input Validation Integration > should validate email format\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Input Validation Integration > should handle malformed JSON [6205774.83ms]\n(fail) Full Framework Integration > `\u0002`,w\u0000\u0000\u0000andle malformed JSON\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Template Rendering Integration > should render HTML templates [6205782.48ms]\n(fail) Full Framework Integration > �\u0002`,w\u0000\u0000\u0000ender HTML templates\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Error Handling Integration > should return proper error responses for not found [6205801.72ms]\n(fail) Full Framework Integration > Error Handling Integration > should return proper error responses for not found\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Error Handling Integration > should handle duplicate registration [6205817.39ms]\n(fail) Full Framework Integration > �\u0004\u0004,w\u0000\u0000\u0000andle duplicate registration\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Pagination Integration > should support pagination in user listing [6205825.93ms]\n(fail) Full Framework Integration > �\u0004\u0004,w\u0000\u0000\u0000upport pagination in user listing\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/integration.test.ts:383:22)\n      at <anonymous> (/root/efw/tests/integration.test.ts:19:14)\n(fail) Full Framework Integration > Health Check Integration > should provide health status [6205835.13ms]\n(fail) Full Framework Integration >  \u0003`,w\u0000\u0000\u0000rovide health status\n-----------------------|---------|---------|-------------------\nFile                   | % Funcs | % Lines | Uncovered Line #s\n-----------------------|---------|---------|-------------------\nAll files              |   40.89 |   39.31 |\n src/framework.ts      |   43.75 |   18.52 | 64,68,72,80-83,87-101,105-277,293-295\n src/middleware.ts     |   25.00 |   13.87 | 20-75,80-108,114-117,123-136,141-162,167-172,177-194\n src/router.ts         |   50.00 |   38.54 | 49,53,57,61-115\n tests/test-helpers.ts |   35.71 |   30.06 | 42,46-76,85,90-94,97-101,104,108,112,117-123,127-155,159,163,167-168,172-173,177-178,196-204,209-223\n tests/test.config.ts  |   50.00 |   95.56 | 54\n-----------------------|---------|---------|-------------------\n\n 0 pass\n 28 fail\nRan 28 tests across 1 files. [288.00ms]\n"
      ]
    },
    {
      "suite": "performance",
      "passed": 0,
      "failed": 1,
      "skipped": 0,
      "duration": 243,
      "errors": [
        "\ntests/performance.test.ts:\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Response Time Performance > should respond to fast endpoints quickly [6205947.06ms]\n(fail) Performance Tests > Response Time Performance > should respond to fast endpoints quickly\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Response Time Performance > should handle slow endpoints within acceptable time [6205960.87ms]\n(fail) Performance Tests > Response Time Performance > should handle slow endpoints within acceptable time\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Response Time Performance > should maintain performance under load [6205983.32ms]\n(fail) Performance Tests > `\u0004\u0004hq\u0000\u0000\u0000aintain performance under load\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Throughput Performance > should handle concurrent requests efficiently [6205996.22ms]\n(fail) Performance Tests > Throughput Performance > should handle concurrent requests efficiently\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Throughput Performance > should handle burst traffic [6206007.24ms]\n(fail) Performance Tests > �\u0001`hq\u0000\u0000\u0000andle burst traffic\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Resource Usage Performance > should handle CPU intensive operations efficiently [6206020.67ms]\n(fail) Performance Tests > Resource Usage Performance > should handle CPU intensive operations efficiently\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Resource Usage Performance > should handle memory intensive operations [6206036.03ms]\n(fail) Performance Tests > Resource Usage Performance > should handle memory intensive operations\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Resource Usage Performance > should handle large responses efficiently [6206046.89ms]\n(fail) Performance Tests > �\u0004\u0004hq\u0000\u0000\u0000andle large responses efficiently\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Stress Testing > should maintain stability under heavy load [6206057.49ms]\n(fail) Performance Tests > Stress Testing > should maintain stability under heavy load\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Stress Testing > should recover from temporary overload [6206069.96ms]\n(fail) Performance Tests > P\u0005\u0004hq\u0000\u0000\u0000ecover from temporary overload\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Memory Leak Detection > should not leak memory during repeated requests [6206077.37ms]\n(fail) Performance Tests > �\u0005\u0004hq\u0000\u0000\u0000ot leak memory during repeated requests\n25 |   }\n26 | \n27 |   async start(): Promise<void> {\n28 |     return new Promise((resolve) => {\n29 |       this.server = this.app.listen(this.port, () => {\n30 |         this.port = this.server.port;\n                              ^\nTypeError: undefined is not an object (evaluating 'this.server.port')\n      at <anonymous> (/root/efw/tests/test-helpers.ts:30:26)\n      at listen (/root/efw/src/framework.ts:289:7)\n      at <anonymous> (/root/efw/tests/test-helpers.ts:29:30)\n      at new Promise (1:11)\n      at start (/root/efw/tests/test-helpers.ts:28:12)\n      at start (/root/efw/tests/test-helpers.ts:27:32)\n      at <anonymous> (/root/efw/tests/performance.test.ts:119:22)\n      at <anonymous> (/root/efw/tests/performance.test.ts:14:14)\n(fail) Performance Tests > Performance Benchmarks > should meet basic performance benchmarks [6206086.39ms]\n(fail) Performance Tests > �\u0005\u0004hq\u0000\u0000\u0000eet basic performance benchmarks\n-----------------------|---------|---------|-------------------\nFile                   | % Funcs | % Lines | Uncovered Line #s\n-----------------------|---------|---------|-------------------\nAll files              |   28.57 |   24.16 |\n src/framework.ts      |   25.00 |   17.28 | 52,56,60,64,68,72,80-83,87-101,105-277,293-295\n src/middleware.ts     |   25.00 |   13.87 | 20-75,80-108,114-117,123-136,141-162,167-172,177-194\n src/router.ts         |   28.57 |   35.42 | 37,41,45,49,53,57,61-115\n tests/test-helpers.ts |   35.71 |   30.06 | 42,46-76,85,90-94,97-101,104,108,112,117-123,127-155,159,163,167-168,172-173,177-178,196-204,209-223\n-----------------------|---------|---------|-------------------\n\n 0 pass\n 24 fail\nRan 24 tests across 1 files. [226.00ms]\n"
      ]
    }
  ],
  "environment": {
    "node": "v22.6.0",
    "platform": "linux",
    "arch": "arm64"
  }
}